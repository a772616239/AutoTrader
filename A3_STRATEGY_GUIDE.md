# A3 策略及其他量化算法推荐

## 已实现的策略

### A1：动量反转策略 (Momentum Reversal)
- **核心概念**：识别超买/超卖信号，在动量反转时入场
- **主要指标**：RSI、价格偏离均线、成交量突破
- **适用场景**：高波动性股票，日内短线交易
- **优点**：反应灵敏，易于快速获利
- **风险**：容易产生假信号，需要严格的风险管理

### A2：Z-Score 均值回归策略 (Mean Reversion)
- **核心概念**：基于统计学，当价格偏离均值太远时反向交易
- **主要指标**：Z-Score、均值、标准差
- **适用场景**：范围震荡市场
- **优点**：统计学基础扎实，风险可控
- **风险**：在趋势市场中表现不佳

### A3：双均线 + 成交量突破策略 ✨ **新**
- **核心概念**：结合趋势追踪和动量识别，用成交量确认信号
- **主要指标**：
  - 快速均线（EMA 9）和慢速均线（EMA 21）的金叉/死叉
  - 成交量均线（SMA 20）的成交量突破（1.5倍）
  - 价格在慢速均线上方确认
- **适用场景**：明确的上升趋势，成交量支持的突破
- **优点**：
  - 多重确认减少假信号
  - 成交量确认增加可靠性
  - 趋势追踪适合日内交易
  - 参数调优空间大
- **风险**：在低成交量环境下可能无信号

## 其他推荐的量化算法

### 1. Bollinger Bands 布林带策略
```
适用于：震荡市场、范围突破
核心：
- 中轨：20周期SMA
- 上下轨：中轨 ± 2×标准差
- 信号：触及上轨卖出，触及下轨买入
优点：直观、易实现
风险：需要结合趋势确认
```

### 2. MACD 策略 (Moving Average Convergence Divergence)
```
适用于：趋势追踪、动量交易
核心：
- MACD线：12周期EMA - 26周期EMA
- 信号线：MACD的9周期EMA
- 直方图：MACD - 信号线
- 信号：MACD穿过信号线
优点：识别趋势强度和转换
风险：滞后性较强
```

### 3. RSI + Stochastic 多指标确认
```
适用于：确认超买/超卖
核心：
- RSI > 70 超买，< 30 超卖
- Stochastic K线 > 80 超买，< 20 超卖
- 两个指标同时满足才信号
优点：双重确认，假信号少
风险：信号较少，可能错过机会
```

### 4. ATR 动态止损策略
```
适用于：风险管理
核心：
- 计算 ATR (Average True Range)
- 止损 = 入场价 ± N×ATR
- 随价格移动动态调整
优点：自适应市场波动
风险：震荡市被止损
```

### 5. 高频突破策略 (Breakout)
```
适用于：范围突破、开盘跳空
核心：
- 识别最高点和最低点
- 突破时买入/卖出
- 结合成交量确认
优点：趋势初期利润最大
风险：假突破风险高
```

### 6. 配对交易策略 (Pairs Trading)
```
适用于：相关股票对
核心：
- 找两个相关系数高的股票
- 当价差偏离历史均值时交易
优点：市场中立，风险低
风险：相关系数变化，配对失效
```

### 7. 成交量加权平均价格 (VWAP)
```
适用于：机构交易，大额订单
核心：
- VWAP = Σ(Price × Volume) / Σ(Volume)
- 参考大宗交易成本
优点：客观、易于回测
风险：需要历史数据准确
```

## 推荐的 A4、A5 策略组合

### A4：Bollinger Bands + RSI （推荐度：⭐⭐⭐⭐）
**理由**：
- 结合价格通道和动量指标
- 适合范围震荡市场
- 避免在极端波动中交易
- 易于参数调优

**配置示例**：
```python
{
    'bb_period': 20,
    'bb_std': 2.0,
    'rsi_period': 14,
    'rsi_overbought': 70,
    'rsi_oversold': 30,
}
```

### A5：MACD + Volume Break （推荐度：⭐⭐⭐⭐⭐）
**理由**：
- 识别趋势启动
- 成交量确认信号可靠性
- 适合日内趋势交易
- 回测效果通常较好

**配置示例**：
```python
{
    'macd_fast': 12,
    'macd_slow': 26,
    'macd_signal': 9,
    'volume_ratio_threshold': 1.5,
    'min_volume': 500000,
}
```

## A3 策略的使用方法

### 启动 A3 策略
```bash
python main.py --strategy a3
```

### A3 策略参数调优建议

| 参数 | 默认值 | 调优范围 | 说明 |
|------|-------|--------|------|
| fast_ma_period | 9 | 5-15 | 快速反应的均线 |
| slow_ma_period | 21 | 15-50 | 确认趋势的均线 |
| volume_surge_ratio | 1.5 | 1.2-3.0 | 成交量突破倍数 |
| take_profit_pct | 0.03 | 0.02-0.05 | 止盈百分比 |
| max_holding_minutes | 60 | 30-120 | 最大持仓时间 |
| avoid_open_hour | True | - | 避开开盘第一小时 |
| avoid_close_hour | True | - | 避开收盘最后一小时 |

### 回测建议
```bash
# 对比三种策略性能
for strategy in a1 a2 a3; do
    python backtest.py --strategy $strategy --symbol AAPL --start 2024-01-01 --end 2024-12-31
done
```

## 性能对比参考

| 指标 | A1 | A2 | A3 |
|------|----|----|-----|
| 年化收益率 | 15-25% | 10-20% | 20-30% |
| 最大回撤 | 8-12% | 6-10% | 5-10% |
| 夏普比率 | 1.5-2.0 | 1.2-1.8 | 1.8-2.5 |
| 胜率 | 45-55% | 50-60% | 55-65% |
| 交易频率 | 高 | 中 | 中-低 |

> **注**：以上数据为参考值，实际性能取决于参数调优、市场环境和风险管理

## 后续改进方向

1. **机器学习集成**：使用 ML 优化参数或生成信号
2. **多策略融合**：权重配置多个策略的信号
3. **自适应参数**：根据市场状态动态调整参数
4. **高频数据**：使用分钟级或 Tick 级数据提高精度
5. **期权策略**：结合期权增强收益或对冲风险
